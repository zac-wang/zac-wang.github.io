<!doctype html><html lang="en">
<head><meta charset="UTF-8">
<meta name="viewport" content="width=768, initial-scale=1">
<link rel="STYLESHEET" href="../css/main.css" type="text/css">
<title>xattr Man Page - macOS - SS64.com</title>
<script async src="../js/q.js"></script>
<script async src="../js/content.js"></script>
</head><body><!-- #BeginLibraryItem "/Library/head_osx.lbi" --><div id="tnav"><ul>
<li class="tbtn"><a href="https://ss64.com/">SS64</a></li>
<li class="tbtn"><a href="../osx">macOS <svg viewBox="0 0 13 20.1" width="13" height="13" style="transform: rotate(0deg);"><path d="M0 2.9l7.2 7.2-7.1 7.1L3 20.1l7.1-7.1 2.9-2.9L2.9 0 0 2.9"></path></svg></a></li>
<li class="tbtn"><a href="syntax.html">How-to <svg viewBox="0 0 13 20.1" width="13" height="13" style="transform: rotate(0deg);"><path d="M0 2.9l7.2 7.2-7.1 7.1L3 20.1l7.1-7.1 2.9-2.9L2.9 0 0 2.9"></path></svg></a></li>
<li><div id="search"><form action="https://www.google.com/search" method="get">
<input type="text" name="q" id="qu" size="27" maxlength="255" aria-label="Search text">
<input class="submit mousetrap" value="Search" id="btn" type="submit">
<input type="hidden" name="sitesearch" value="ss64.com/osx/"></form></div></li>
</ul></div><!-- #EndLibraryItem --><h1>xattr</h1> 
<p>Display and manipulate extended attributes of one      or more files, including directories and symbolic links.</p>
<pre>Syntax
   List attributes
      xattr [-lrsvx] <i>file</i> ...

   Print the value associated with the given attribute:
      xattr -p [-lrsvx] <i>attr_name file</i> ...

   Write a given attribute name with a value:
      xattr -w [-rsx] <i>attr_name attr_value file</i> ...

   Delete the given attribute from <i>file</i>:
      xattr -d [-rsv] <i>attr_name file</i> ...

   Clear all attributes including their associated values:
      xattr -c [-rsv] <i>file</i> ...

   Display help:
      xattr -h | --help

Key
   -c  CLear all Atrributes.

   -d  Delete the given attribute.

   -h  Help.

   -l  By default, the first two command forms either display just the attribute names or
       values, respectively. The -l option causes both the attribute names and corresponding
       values to be displayed. For hex display of values, the output is preceeded with the hex
       offset values and followed by ASCII display, enclosed by '|'.

   -p  Print the value associated with the given attribute.

   -r  If a file argument is a directory, act as if the entire contents of the directory
       recursively were also specified (so that every file in the directory tree is acted upon).

   -s  If a file argument is a symbolic link, act on the symbolic link itself, rather than
       the file that the symbolic link points at.

   -v  Force the the file name to be displayed, even for a single file.

   -w  Write a given attribute name with a value.

   -x  Force the attribute value to be displayed in the hexadecimal representation.       </pre>
<p>Extended attributes are arbitrary metadata stored with a file, but separate from the filesystem attributes (such as      modification time or file size).  The metadata is often a null-terminated UTF-8 string,      but can also be arbitrary binary data. File metadata is stored in extended file attributes (EA) in macOS, it can be displayed at the command line with <span class="code">ls -la@ <i>filename</i></span></p>
<p><br>
One or more files may be specified on the command line.</p>
<p> In macOS, extended attributes are most often seen in the <b>'Photos Library'</b> and <b>'Photo Booth Library'</b> - these are folders with a bundle bit applied so that they appear in the Apple Finder as a single file, this is done to hide the files so that they can be managed by a single application.</p>
<p>For the first two forms of the      command, if there is more than one file, the file name is displayed along with the      actual results.  When only one file is specified, the display of the file name is       suppressed unless the -v option, is also specified.</p>
<p>In the first form of the command ( <span class="code">-w</span> with no other mode option specified), the names of <b>all</b> extended attributes are listed.<br>
Attribute names can also be displayed using <span class="code"><a href="ls.html">ls -l@</a></span></p>
<p>In the second form,  the <span class="code">-p</span> option (print), the value associated with the given attribute name      is displayed.  </p>
<p>Attribute values are usually displayed as strings.  However, if nils are detected in the      data, the value is displayed in a hexadecimal representation.</p>
<p>The <span class="code">-w</span> option normally assumes the input attribute value is a string.  Specifying the -x option
         causes xattr to expect the input in hexadecimal (whitespace is ignored).  The <a href="xxd.html">xxd</a> command can be
used to create hexadecimal representations from exising binary data, to pass to xattr.</p>
<h2> Finder tags </h2>
<blockquote>
<p>Finder tags are exposed to the user in the Finderâ€™s Preferences window. <br>
Each tag consists of: a colour which can be <span class="code">none</span> (0) or chosen from the standard range:  grey (1), green(2), purple(3),  blue(4), yellow(5), red(6),  orange(7)  and a text label.</p>
<p>Finder tags are xattrs of type <span class="code">com.apple.metadata:_kMDItemUserTags</span>. <br>
This is an NSArray consisting of  UTF-8 Strings, each containing a tag name, followed by the newline character, followed by the colour number (0-7). The array may be empty.</p>
<p>Example:<br>
<span class="code">Red<br>
6</span></p>
</blockquote>
<h2>Preserving extended attributes</h2>
<blockquote>
<p><a href="cp.html">cp</a> and <a href="mv.html">mv</a> preserve Extended Attributes by default. To copy a file without it's Extended Attributes, use <a href="cp.html">cp -X</a></p>
<p><a href="rsync.html">rsync  -E</a> will preserve attributes even when transferring between Linux, FreeBSD, and macOS.</p>
<p><a href="tar.html">tar</a> preserves Extended Attributes but the storage format is  not compatible with GNU <a href="../bash/tar.html">tar</a> however both versions of tar are available for the other OS, so it is possible to transfer files between OS's and preserve the Extended Attributes.<br>
</p>
</blockquote>
<p><span class="code">xattr</span> is an abbreviation for 'extended attributes'.</p>
<p><span class="code">xattr</span> exits with zero status on success.  On error, non-zero is returned, and a message      is printed to  standard error. </p>
<h3><a id="e"></a>Examples</h3>
<p>Remove the  bundle bit from the MyApp folder and convert it back to a normal folder.</p>
<p class="code">$ xattr -d com.apple.FinderInfo ~/MyApp</p>
<p>Remove the '<em>Where From</em>' data from a downloaded or emailed file, (typically Images or videos) this is visible via Finder &gt; Get Info and will display the source URL or email address.</p>
<p class="code">$ xattr -d com.apple.metadata:<b>kMDItemWhereFroms</b> /Path/To/File</p>
<p>Remove all Extended Attributes from the 'example.txt' file:</p>
<p class="code">$ xattr -c example.txt</p>
<p>Remove all Extended Attributes from all the files in a directory:</p>
<p class="code">$ xattr -rc /path/to/directory</p>
<p>Copy the<span class="code"> com.apple.FinderInfo</span> attribute from the<span class="code"> /usr</span> directory to the <span class="code">MyDir</span> directory: </p>
<pre>$ xattr -px com.apple.FinderInfo /usr
  00 00 00 00 00 00 00 00 40 00 00 00 00 00 00 00
  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00

$ xattr -l MyDir

$ xattr -wx com.apple.FinderInfo \
    "`xattr -px com.apple.FinderInfo /usr`" MyDir

$ xattr -l MyDir
  com.apple.FinderInfo:
  00000000  00 00 00 00 00 00 00 00 40 00 00 00 00 00 00 00  |........@.......|
  00000010  00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00  |................|
  00000020</pre>
<p class="quote"><i>&ldquo;I think too much. I think ahead. I think behind. I think sideways. I think it all&rdquo; ~ Winona Ryder</i></p>
<h3>Related macOS commands</h3>
<p class="space"><a href="ls.html">ls</a> - List information about file(s).<br>
<a href="https://hints.macworld.com/article.php?story=20101206161739274">Macworld tips</a> - AppleScript for removing kMDItemWhereFroms<br>
<a href="https://apple.stackexchange.com/questions/6525/editing-iphoto-specific-metadata">apple.stackexchange.com</a> - Editing iPhoto-specific metadata.</p><!-- #BeginLibraryItem "/Library/foot_osx.lbi" --><!-- AuctionX Display platform tag START -->
<div id="27677x300x250x4627x_ADSLOT1" clickTrack="%%CLICK_URL_ESC%%"></div>
<script async src="https://served-by.pixfuture.com/www/delivery/headerbid.js" slotId="27677x300x250x4627x_ADSLOT1" refreshTime="5" refreshInterval="120"></script><!-- AuctionX Display platform tag END -->
<hr>
<div id=bl>&nbsp;</div>
<div id=br>Copyright &copy; 1999-2023 <a href="https://ss64.com/">SS64.com</a><br>
Some rights reserved</div><!-- #EndLibraryItem --></body>
</html>
