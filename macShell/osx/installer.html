<!doctype html><html lang="en">
<head><meta charset="UTF-8">
<meta name="viewport" content="width=768, initial-scale=1">
<link rel="STYLESHEET" href="../css/main.css" type="text/css">
<title>installer Man Page - macOS - SS64.com</title>
<script async src="../js/q.js"></script>
<script async src="../js/content.js"></script>
</head><body><!-- #BeginLibraryItem "/Library/head_osx.lbi" --><div id="tnav"><ul>
<li class="tbtn"><a href="https://ss64.com/">SS64</a></li>
<li class="tbtn"><a href="../osx">macOS <svg viewBox="0 0 13 20.1" width="13" height="13" style="transform: rotate(0deg);"><path d="M0 2.9l7.2 7.2-7.1 7.1L3 20.1l7.1-7.1 2.9-2.9L2.9 0 0 2.9"></path></svg></a></li>
<li class="tbtn"><a href="syntax.html">How-to <svg viewBox="0 0 13 20.1" width="13" height="13" style="transform: rotate(0deg);"><path d="M0 2.9l7.2 7.2-7.1 7.1L3 20.1l7.1-7.1 2.9-2.9L2.9 0 0 2.9"></path></svg></a></li>
<li><div id="search"><form action="https://www.google.com/search" method="get">
<input type="text" name="q" id="qu" size="27" maxlength="255" aria-label="Search text">
<input class="submit mousetrap" value="Search" id="btn" type="submit">
<input type="hidden" name="sitesearch" value="ss64.com/osx/"></form></div></li>
</ul></div><!-- #EndLibraryItem --><h1>installer</h1> 
<p><span class="space">System software and .pkg package installer tool</span>.</p>
<pre>Syntax
      installer [-dominfo] [-volinfo] [-pkginfo] [-showChoicesXML] [-showChoicesAfterApplyingChangesXML <i>pathToXMLFile</i>]
         [-applyChoiceChangesXML <i>pathToXMLFile</i>] [-query <i>flag</i>] [-allow] [-dumplog] [-help]
            [-verbose | -verboseR] [-vers] [-config] [-plist] [-file <i>pathToFile</i>]
              [-lang <i>ISOLanguageCode</i>] [-listiso] <b>-package</b> <i>pathToPackage</i> <b>-target</b> <i>device</i>

Options

   -dominfo
             Displays a list of domains into which the software package can be installed.  For example: LocalSystem or
             CurrentUserHomeDirectory.  The domains listed are those which are available and enabled when the command is run.

   -volinfo
             Displays a list of volumes onto which the software package can be installed.
             The volumes listed are the mounted volumes available when the command is run.

   -pkginfo
             Displays a list of packages that can be installed onto the target volume.  If a metapackage is given as
             the package source, all of its subpackages are listed.

   -query <i>flag</i>
             Queries a package for information about the metadata.  See -help for supported flags.

   -allowUntrusted
             Allow install of a package signed by an untrusted (or expired) certificate.

   -dumplog
             Detailed log information is always sent to syslog using the LOG_INSTALL facility (and will wind up in
             /var/log/install.log).  -dumplog additionally writes this log to standard error output.

   -help     Display the help screen describing the list of parameters.

   -verbose  Display more descriptive information than the default output.
             Use this parameter in conjunction with -pkginfo and  -volinfo information requests to see more readable output.
             The default output is formatted for scripting.

   -verboseR Same information as -verbose except the output is formatted for easy parsing.

   -vers     Display the version of this command.

   -config   Format the command line installation arguments for later use.  The output is sent to stdout, but can be
             redirected to a file to create a configuration file.
             When specifying this option, an installation is not actually performed.  This configuration file can be supplied
             as the argument to the -file parameter instead of typing a long series of installation arguments.
             The config file can be used to perform multiple identical installs.
             Create a config file as follows:
             installer -pkg ~/Documents/Foo.pkg -target / -config > /tmp/configfile.plist

   -plist    Formats the installer output into an XML file, which is sent by default to stdout.
             Use this parameter for -dominfo, -volinfo, and -pkginfo

   -file <i>pathToFile</i>
             The path to the XML file containing parameter information in the key/value dictionary.
             This file can be used instead of the command line parameters, and supersedes any parameters on the
             command line.  When you type this parameter, you type the path to the XML file.
             Use with config file generated by -config For example:
             installer -file /tmp/configfile.plist

   -lang <i>ISOLanguageCode</i>
             Default language of installed system (ISO format).
             This is only necessary when performing a system (OS) install, otherwise is it ignored.
             There is no verification done to make sure that the language being set actually exists on the machine
             however the ISO language code is verified to ensure that it is valid.

   -listiso
             Display the list of valid ISO language codes the installer recognizes.

   -showChoiceChangesXML
             Print to stdout the install choices for the package (specified with -pkg) in an XML format.
             This allows choice attributes to be modified and applied at install-time using
             -applyChoiceChangesXML.  See CHOICE CHANGES FILE for details of this XML format.

   -applyChoiceChangesXML <i>pathToXMLFile</i>
             Applies the install choice changes specified in pathToXMLFile to the default choices in the package
             before installation. This allows the command-line installer to customize choice what gets installed.
             See CHOICE CHANGES FILE for details of this XML format.
             Any problems encountered while applying the choice changes will be reported to the LOG_INSTALL
             facility (i.e. to /var/log/install.log), and also to stdout if -dumplog is used.

   -showChoicesAfterApplyingChangesXML <i>pathToXMLFile</i>
             Applies the install choice changes specified in pathToXMLFile to the default choices in the package,
             and then dumps the resulting choice state to stdout.
             The input and output XML format is as described in CHOICE CHANGES FILE.  Since changing one choice
             in a package can implicitly change other choices, this option allows you to confirm that a particular
             choiceChanges file will have the intended effect. You must specify a -target when using this option,
             since the evaluated choices can also change with the state of the target disk.

   -showChoicesXML
             Print to stdout the install choices for the package (specified with -pkg) in a hierarchical XML format.
             This is not the same format as used with -applyChoiceChangesXML.
             This option is provided for System Image Utility only.

   -store    Install the product archive specified by -package, in the same way that it would be installed
             through the Mac App Store. In this mode, no other options are supported.
             (You can specify -target, but the only allowable value is the root volume mount point, /). 
             For best Mac App Store fidelity, run installer as an admin user (not using sudo); you will be prompted
             for your admin user's password before the install begins.

             This mode is provided for testing a product archive before submission to the Mac App Store.
             See productbuild(1) for how to create a product archive.</pre>
<p>The installer command is used to install MacOS installer packages to a specified domain or volume.  The installer command installs a single package per invocation, which is specified with the -package parameter ( -pkg is accepted as a synonym).  </p>
<p>It may be either a single package or a metapackage. In the case of the metapackage, the packages which are part of the default install will be installed unless disqualified by a package's check tool(s). </p>
<p>The target volume is specified with the -target parameter ( -tgt is accepted as a synonym). It must already be mounted when the installer command is invoked. </p>
<p>For system software installs, the target volume must be a different volume than the one currently running the booted system. See <a href="systemsetup.html">systemsetup</a> (only available on Mac OS X Server) to set the boot volume. </p>
<p>The installer command requires root privileges to run.  If a package requires authentication (set in a package's .info file) the installer must be either run as root or with the sudo(8) command (but see further discussion under the -store option). </p>
<p>The installer is not responsible for rebooting the machine after installing.  Use reboot(8) or shutdown(8) -r now to reboot the system. </p>
<p>The installer displays two forms of output.  The default terse output is intended for parsing by scripting languages for automating (or scripting) installs and verbose output providing additional information and descriptive error messages.</p>
<h2>Devices</h2>
<blockquote>
<p> A device parameter for the target is any one of the following:<br>
<br>
1) Any of the values returned by -dominfo<br>
2) The device node entry.  Any entry of the form of /dev/disk*.  ex: /dev/disk2<br>
3) The disk identifier.  Any entry of the form of disk*.  ex: disk1s9<br>
4) The volume mount point.  Any entry of the form of /Volumes/Mountpoint.  ex: /Volumes/Untitled<br>
5) The volume UUID.  ex: 376C4046-083E-334F-AF08-62FAFBC4E352</p>
</blockquote>
<h2> Choice Changes File</h2>
<blockquote>
<p> A 'choiceChanges' file allows individual installer choices to be selected or deselected. A template choiceChanges file for a
given package can be generated with the -showChoiceChangesXML option, and is interpreted as follows.<br>
<br>
The choiceChanges file is a property list containing an array of dictionaries. Each dictionary has the following three keys:</p>
<blockquote>
<p><b>choiceIdentifier</b> Identifier for the choice to be modified (string)<br>
<b>choiceAttribute</b> One of the attribute names described below (string)<br>
<b>attributeSetting</b> A setting that depends on the choiceAttribute, described below (number or string)</p>
</blockquote>
<p> The <i>choiceAttribute</i> and <i>attributeSetting</i> values are as follows:</p>
<blockquote>
<p><b>selected</b> (number) 1 to select the choice, 0 to deselect it<br>
<b>enabled</b> (number) 1 to enable the choice, 0 to disable it<br>
<b>visible</b> (number) 1 to show the choice, 0 to hide it<br>
<b>customLocation</b> (string) path at which to install the choice (see below)</p>
</blockquote>
<p> Note that there can be multiple dictionaries for the same choiceIdentifier, since there can be multiple attributes set for a
single choice.<br>
<br>
The customLocation attribute can be set for a choice only if that choice explicitly allows a user-defined path. That is, if the
choice would have a Location popup when viewed in the Customize pane of the Installer application, it can be set via
customLocation.  (Otherwise, installation paths cannot be arbitrarily modified, since the package author must account for custom install locations for the installation to work properly.)<br>
</p>
</blockquote>
<h3><a id="e"></a>Examples</h3>
<p>Install the package <span class="code">ss64application.pkg</span> to the applications folder:</p>
<p class="code">$ <span class="space"></span>installer -pkg /path/to/ss64application.pkg -target /Applications</p>
<p>Get information on a package:</p>
<p><span class="code">$ installer -dominfo -pkg InstallMe.pkg<br>
<br>
$ installer -volinfo -pkg InstallMe.pkg<br>
<br>
$ installer -pkginfo -pkg DeveloperTools.mpkg<br>
<br>
</span>Run an OS install:<span class="code"><br>
<br>
$ installer -pkg OSInstall.mpkg -target LocalSystem<br>
<br>
$ installer -pkg OSInstall.mpkg -target / -lang en</span></p>
<p>Install Developer Tools<span class="code"><br>
<br>
$ installer -pkg DeveloperTools.mpkg -target /</span></p>
<p>Other installs:<span class="code"><br>
<br>
$ installer -pkg InstallMe.pkg -target "/Volumes/Macintosh HD2"<br>
<br>
$ installer -pkg InstallMe.pkg -file /tmp/InstallConfigFile<br>
<br>
$ installer -pkg InstallMe.pkg -target /dev/disk0s5<br>
</span></p>
<p class="quote"><i> &ldquo;Be not the first by whom the new are tried Nor yet the last to lay the old aside&rdquo; ~ Alexander Pope</i></p>
<h3>Related macOS commands</h3>
<p class="space">To create a .DMG file from a folder: Disk Utility ➞ File ➞ New Image ➞ Image From Folder.<br>
<a href="pkgutil.html">pkgutil</a> - Query and manipulate installed packages.<br>
syslog.conf(5)<br>
reboot    Stop and restart the system.<br>
<a href="shutdown.html">shutdown</a> - Shutdown or restart macOS.<br>
<a href="softwareupdate.html">softwareupdate</a> - System software update tool.<br>
<a href="sudo.html">sudo</a> - Execute a command as another user.<br>
<a href="systemsetup.html">systemsetup</a> - Computer and display system settings.</p><!-- #BeginLibraryItem "/Library/foot_osx.lbi" --><!-- AuctionX Display platform tag START -->
<div id="27677x300x250x4627x_ADSLOT1" clickTrack="%%CLICK_URL_ESC%%"></div>
<script async src="https://served-by.pixfuture.com/www/delivery/headerbid.js" slotId="27677x300x250x4627x_ADSLOT1" refreshTime="5" refreshInterval="120"></script><!-- AuctionX Display platform tag END -->
<hr>
<div id=bl>&nbsp;</div>
<div id=br>Copyright &copy; 1999-2023 <a href="https://ss64.com/">SS64.com</a><br>
Some rights reserved</div><!-- #EndLibraryItem --></body>
</html>
