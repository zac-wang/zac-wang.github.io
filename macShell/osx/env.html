<!doctype html><html lang="en">
<head><meta charset="UTF-8">
<meta name="viewport" content="width=768, initial-scale=1">
<link rel="STYLESHEET" href="../css/main.css" type="text/css">
<title>env Man Page - macOS - SS64.com</title>
<script async src="../js/q.js"></script>
<script async src="../js/content.js"></script>
</head><body><!-- #BeginLibraryItem "/Library/head_osx.lbi" --><div id="tnav"><ul>
<li class="tbtn"><a href="https://ss64.com/">SS64</a></li>
<li class="tbtn"><a href="../osx">macOS <svg viewBox="0 0 13 20.1" width="13" height="13" style="transform: rotate(0deg);"><path d="M0 2.9l7.2 7.2-7.1 7.1L3 20.1l7.1-7.1 2.9-2.9L2.9 0 0 2.9"></path></svg></a></li>
<li class="tbtn"><a href="syntax.html">How-to <svg viewBox="0 0 13 20.1" width="13" height="13" style="transform: rotate(0deg);"><path d="M0 2.9l7.2 7.2-7.1 7.1L3 20.1l7.1-7.1 2.9-2.9L2.9 0 0 2.9"></path></svg></a></li>
<li><div id="search"><form action="https://www.google.com/search" method="get">
<input type="text" name="q" id="qu" size="27" maxlength="255" aria-label="Search text">
<input class="submit mousetrap" value="Search" id="btn" type="submit">
<input type="hidden" name="sitesearch" value="ss64.com/osx/"></form></div></li>
</ul></div><!-- #EndLibraryItem --><h1>env</h1> 
<p>List or Set environment variables and optionally run a utility.</p>
<pre>Syntax
       env [-iv] [-P <i>altpath</i>] [-S <i>string</i>] [-u <i>name</i>] [<i>name</i>=<i>value</i> ...] [<i>utility</i> [<i>argument</i> ...]]

Key
   -i      Execute the utility with only those environment variables specified by name=value
           options. The environment inherited by env is ignored completely.

   -P <i>altpath</i>
           Search the set of directories as specified by <i>altpath</i> to locate the specified
           utility program, instead of using the value of the PATH environment variable.

   -S <i>string</i>
           Split apart the given <i>string</i> into multiple strings, and process each of the
           resulting strings as separate arguments to the env utility.  The -S option
           recognizes some special character escape sequences and also supports environment-
           variable substitution, as described below.

   -u <i>name</i>
           If the environment variable name is in the environment, then remove it before
           processing the remaining options.  This is similar to the unset command in sh(1).
           The value for <i>name</i> must not include the = character.

   -v      Print verbose information for each step of processing done by the env utility.
           Additional information will be printed if -v is specified multiple times.

     The above options are only recognized when they are specified before any <i>name</i>=<i>value</i>
     options.

     If no <i>utility</i> is specified, env prints out the names and values of the variables in the
     environment, with one name/value pair per line.</pre>
<p>env executes <i>utility</i> after modifying the environment as 
  specified on the command line. Each <span class="code"><i>name</i>=<i>value</i></span> option specifies the setting of an environment variable name, with a value of <i>value</i>.  All such environment variables are set before the utility is executed.</p>
<p>The option <i>name</i>=<i>value</i> specifies an environmental variable, <i>name</i>, 
  with a value of <i>value</i>. </p>
<p>The option <span class="code">-i</span> causes env to completely ignore the environment 
  it inherits. The env utility accepts the - option as a synonym for -i.</p>
<p>If no <i>utility </i>is specified, env prints out the names and 
  values of the variables in the environment, with one name=value pair per line. <br>
This is the same as running <span class="code"><a href="printenv.html">printenv</a></span>.</p>
<h2>Details of -S (split-string) processing      </h2>
<blockquote>
<p>The processing of the -S option will split the given string into separate arguments based on any space or &lt;tab&gt; characters found in the string.  Each of those new arguments will then be treated as if it had been specified as a separate argument on the original env command.</p>
<p>Spaces and tabs may be embedded in one of those new arguments by using single (') or double (&quot;) quotes, or backslashes (\).  Single quotes will escape all non-single quote characters, up to the matching single quote.  Double quotes will escape all non-double quote characters, up to the matching double quote.  It is an error if the end of the string is reached before the matching quote character. </p>
<p>If -S would create a new argument that starts with the `#' character, then that argument and the remainder of the string will be ignored.  The <span class="code">\#</span> sequence can be used when you want a new argument to start with a <span class="code">#</span> character, without causing the remainder of the string to be skipped. </p>
<p>While processing the string value, <span class="code">-S</span> processing will treat certain character combinations as escape sequences which represent some action to take. The character escape sequences are in backslash notation.  The characters and their meanings are as follows:</p>
<pre>      \c      Ignore the remaining characters in the string.  This must not appear inside
              a double-quoted string.
      \f      Replace with a form-feed character.
      \n      Replace with a new-line character.
      \r      Replace with a carriage return character.
      \t      Replace with a tab character.
      \v      Replace with a vertical tab character.
      \#      Replace with a `#' character.  This would be useful when you need a `#' as
              the first character in one of the arguments created by splitting apart the
              given string.
      \$      Replace with a `$' character.
      \_      If this is found inside of a double-quoted string, then replace it with a
              single blank.  If this is found outside of a quoted string, then treat this
              as the separator character between new arguments in the original string.
      \"      Replace with a double quote character.
      \'      Replace with a single quote character.
      \\      Replace with a backslash character.</pre>
<p>The sequences for &lt;single-quote&gt; and backslash are the only sequences which are recognized inside of a single-quoted string. The other sequences have no special meaning inside a single-quoted string. All escape sequences are recognized inside of a double-quoted string. It is an error if a single `\' character is followed by a character other than the ones listed above.</p>
<p>he processing of -S also supports substitution of values from environment variables.  To do this, the name of the environment variable must be inside of <span class="code">${}</span>, such as: <span class="code">${SOMEVAR}</span>.  The common shell syntax of $SOMEVAR is not supported.  All values substituted will be the values of the environment variables as they were when the env utility was originally invoked.  Those values will not be checked for any of the escape sequences as described above.  And any settings of name=value will not effect the values used for substitution in -S processing. </p>
<p>Also, -S processing can not reference the value of the special parameters which are defined by most shells.  For instance, -S can not recognize special parameters such as: $*, $@, $#, $? or $$ if they appear inside the given string.</p>
</blockquote>
<h2>Use in shell-scripts</h2>
<blockquote>
<p>The env utility is often used as the interpreter on the first line of interpreted scripts, as described in execve(2).</p>
<p>Note that the way the kernel parses the #! (first line) of an interpreted script has changed as of FreeBSD 6.0.  Prior to that, the FreeBSD kernel would split that first line into separate arguments based on any whitespace (space or &lt;tab&gt; characters) found in the line. So, if a script named /usr/local/bin/someport had a first line of:            </p>
<p class="code">#!/usr/local/bin/php -n -q -dsafe_mode=0</p>
<p>then the /usr/local/bin/php program would have been started with the arguments of:</p>
<pre> arg[0] = '/usr/local/bin/php'
 arg[1] = '-n'
 arg[2] = '-q'
 arg[3] = '-dsafe_mode=0'
 arg[4] = '/usr/local/bin/someport'</pre>
<p>plus any arguments the user specified when executing someport.  However, this processing of multiple options on the <span class="code">#!</span> line is not the way any other operating system parses the first line of an interpreted script. So after a change which was made for FreeBSD 6.0      release, that script will result in /usr/local/bin/php being started with the arguments of:</p>
<pre> arg[0] = '/usr/local/bin/php'
 arg[1] = '-n -q -dsafe_mode=0'
 arg[2] = '/usr/local/bin/someport'</pre>
<p>plus any arguments the user specified.  This caused a significant change in the behavior of a few scripts.  In the case of above script, to have it behave the same way under FreeBSD 6.0 as it did under earlier releases, the first line should be changed to:</p>
<p class="code">arg[1] = '-S /usr/local/bin/php -n -q -dsafe_mode=0'</p>
<p>The env utility will be started with the entire line as a single argument: arg[1] = '-S /usr/local/bin/php -n -q -dsafe_mode=0' and then -S processing will split that line into separate arguments before executing /usr/local/bin/php.</p>
</blockquote>
<h2>Environment</h2>
<blockquote>
<p>The env utility uses the PATH environment variable to locate the requested utility if the      name contains no <span class="code">/</span> characters, unless the -P option has been specified. </p>
</blockquote>
<h2>Exit Status</h2>
<blockquote>
<p>The env utility exits 0 on success, and &gt;0 if an error occurs.  <br>
An exit status of 126      indicates that utility was found, but could not be executed.  <br>
An exit status of 127 indicates that utility could not be found. </p>
</blockquote>
<p><b>Examples</b></p>
<p>Since the env utility is often used as part of the first line of an interpreted script,      the following examples show a number of ways that the env utility can be useful in      scripts.      The kernel processing of an interpreted script does not allow a script to directly refer-      ence some other script as its own interpreter.  As a way around this, the main difference      between</p>
<p><span class="code">#!/usr/local/bin/foo      <br>
</span>and <span class="code"><br>
#!/usr/bin/env /usr/local/bin/foo</span></p>
<p>is that the latter works even if /usr/local/bin/foo is itself an interpreted script.</p>
<p>Probably the most common use of env is to find the correct interpreter for a script, when the interpreter may be in different directories on different systems.  The following example will find the 'perl' interpreter by searching through the directories specified by PATH.</p>
<p class="code"> #!/usr/bin/env perl</p>
<p>One limitation of that example is that it assumes the user's value for PATH is set to a value which will find the interpreter you want to execute.  The -P option can be used to      make sure a specific list of directories is used in the search for utility.  Note that the -S option is also required for this example to work correctly. </p>
<p class="code">#!/usr/bin/env -S -P/usr/local/bin:/usr/bin perl</p>
<p>The above finds `perl' only if it is in /usr/local/bin or /usr/bin.  That could be combined with the present value of PATH, to provide more flexibility. Note that spaces are not required between the -S and -P options:</p>
<p class="code">#!/usr/bin/env -S-P/usr/local/bin:/usr/bin:${PATH} perl<br>
</p>
<p class="quote"><i>"Each time we changed our environment, our environment changed 
  our behavior, and our new behavior demanded a new environment&quot; ~ Laurence 
  J. Peter </i></p>
<h3>Related macOS commands</h3>
<p class="space"><a href="set.html">set</a> - Set a variable.<br>
<a href="printenv.html">printenv</a> - List environment variables.<br>
environ - user environment.</p><!-- #BeginLibraryItem "/Library/foot_osx.lbi" --><!-- AuctionX Display platform tag START -->
<div id="27677x300x250x4627x_ADSLOT1" clickTrack="%%CLICK_URL_ESC%%"></div>
<script async src="https://served-by.pixfuture.com/www/delivery/headerbid.js" slotId="27677x300x250x4627x_ADSLOT1" refreshTime="5" refreshInterval="120"></script><!-- AuctionX Display platform tag END -->
<hr>
<div id=bl>&nbsp;</div>
<div id=br>Copyright &copy; 1999-2023 <a href="https://ss64.com/">SS64.com</a><br>
Some rights reserved</div><!-- #EndLibraryItem --></body>
</html>
