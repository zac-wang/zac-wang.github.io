<!doctype html><html lang="en">
<head><meta charset="UTF-8">
<meta name="viewport" content="width=768, initial-scale=1">
<link rel="STYLESHEET" href="../css/main.css" type="text/css">
<title>dig Man Page - macOS - SS64.com</title>
<script async src="../js/q.js"></script>
<script async src="../js/content.js"></script>
</head><body><!-- #BeginLibraryItem "/Library/head_osx.lbi" --><div id="tnav"><ul>
<li class="tbtn"><a href="https://ss64.com/">SS64</a></li>
<li class="tbtn"><a href="../osx">macOS <svg viewBox="0 0 13 20.1" width="13" height="13" style="transform: rotate(0deg);"><path d="M0 2.9l7.2 7.2-7.1 7.1L3 20.1l7.1-7.1 2.9-2.9L2.9 0 0 2.9"></path></svg></a></li>
<li class="tbtn"><a href="syntax.html">How-to <svg viewBox="0 0 13 20.1" width="13" height="13" style="transform: rotate(0deg);"><path d="M0 2.9l7.2 7.2-7.1 7.1L3 20.1l7.1-7.1 2.9-2.9L2.9 0 0 2.9"></path></svg></a></li>
<li><div id="search"><form action="https://www.google.com/search" method="get">
<input type="text" name="q" id="qu" size="27" maxlength="255" aria-label="Search text">
<input class="submit mousetrap" value="Search" id="btn" type="submit">
<input type="hidden" name="sitesearch" value="ss64.com/osx/"></form></div></li>
</ul></div><!-- #EndLibraryItem --><h1>dig (DNS lookup utility)</h1> 
<p>A flexible tool for interrogating DNS name servers. It performs DNS lookups and displays the answers that are returned from the name server(s) that were queried. Most DNS administrators use dig to troubleshoot DNS problems because of its flexibility, ease of use and clarity of output. Other lookup tools tend to have less functionality than dig.</p>
<pre>Syntax:
     dig [@<i>server</i>] [-b <i>address</i>] [-c <i>class</i>] [-f <i>filename</i>] [-k <i>filename</i>] [-m]
             [-p <i>port#</i>] [-q name] [-t <i>type</i>] [-x <i>addr</i>] [-y [hmac:]<i>name</i>:<i>key</i>] 
                [-4] [-6] [<i>name</i>] [<i>type</i>] [<i>class</i>] [<i>queryopt</i>...]<br>     dig [-h]

     dig [<i><a href="dig-queryopt.html">global-queryopt</a></i>...] [<i>query</i>...]

Options:

   -4    Force dig to only use IPv4 query transport.

   -6    Force dig to only use IPv6 query transport.

   -b <i>address</i>
         Set the source IP address of the query to address.
         This must be a valid address on one of the host's network interfaces or "0.0.0.0" or "::".
         An optional port can be specified by appending "#<i>port</i>"

   -c <i>class</i>
         Over-ride the default query class (IN for internet).
         class is any valid class, such as HS for Hesiod records or CH for CHAOSNET records.

   -f <i>filename</i> 
         Operate in batch mode by reading a list of lookup requests to process from a file.
         The file contains a number of queries, one per line.
         Each entry in the file should be organised in the same way they would be presented
         as queries to dig using the command-line interface.

   -m    Enable memory usage debugging.

   -p <i>port#</i>
        Specify a non-standard port number to be queried,
        default = the standard DNS port number 53.
        This option would be used to test a name server that has been configured
        to listen for queries on a non-standard port number.

   -t <i>type</i>
        Set the query type to <i>type</i>, any valid query type which is supported in BIND9.
        The default query type "A", unless the -x option is supplied to indicate a reverse lookup.
        A zone transfer can be requested by specifying a type of AXFR.
        When an incremental zone transfer (IXFR) is required, type is set to ixfr=N.
        The incremental zone transfer will contain the changes made to the zone since the
        serial number in the zone's SOA record was N.

   -x <i>addr
       </i> Reverse lookups - mapping addresses to names: <i>addr</i> is an IPv4 address in dotted-
        decimal notation, or a colon-delimited IPv6 address. When this option is used,
        there is no need to provide the name, class and type arguments. dig automatically
        performs a lookup for a name like 11.12.13.10.in-addr.arpa and sets the query type
        and class to PTR and IN respectively. By default, IPv6 addresses are looked up using
        nibble format under the IP6.ARPA domain. To use the older RFC1886 method using the
        IP6.INT domain specify the -i option. Bit string labels (RFC2874) are now experimental
        and are not attempted.

   -k <i>filename</i>
        Sign the DNS queries sent by dig and their responses using transaction signatures
        (TSIG key file). You can also specify the TSIG key itself on the command line
        using the -y option; <i>name</i> is the name of the TSIG key and <i>key</i> is the actual key.
        The key is a base-64 encoded string, typically generated by dnssec-keygen(8).
        Caution should be taken when using the -y option on multi-user systems as the key
        can be visible in the output from ps(1 ) or in the shell's history file.
        When using TSIG authentication with dig, the name server that is queried needs to
        know the key and algorithm that is being used. In BIND, this is done by providing
        appropriate key and server statements in named.conf.

   -h   Print a brief summary of the command-line arguments and options.</pre>
<p> Although dig is normally used with command-line arguments, it also has a batch mode of operation for reading lookup requests from a file. Unlike earlier versions, the BIND9 implementation of dig allows multiple lookups to be issued from the command line.</p>
<p>Unless it is told to query a specific name server, dig will try each of the servers listed in <span class="code">/etc/resolv.conf</span></p>
<p>When no command line arguments or options are given, will perform an NS query for &quot;.&quot; (the root).</p>
<p>It is possible to set per-user defaults for dig via <span class="code">${HOME}/.digrc</span>. This file is read and any options in it are applied before the command line arguments.</p>
<p>The IN and CH class names overlap with the IN and CH top level domains names. Either
  use the -t and -c options to specify the type and class, use the -q the specify the
  domain name, or use &quot;IN.&quot; and &quot;CH.&quot; when looking up these top level domains.</p>
<p> macOS NOTICE<br>
The dig command does not use the host name and address resolution or
the DNS query routing mechanisms used by other processes running on 
macOS.  The results of name or address queries printed by dig might differ from those found by other processes that use the macOS native name
and address resolution mechanisms.  The results of DNS queries can also
differ from queries that use the macOS DNS routing library.</p>
<h2>Commonly used record types</h2>
<blockquote>
<p><span class="code">A</span> (Host address)<br>
<span class="code">AAAA</span> (IPv6 host address) <br>
<span class="code">ALIAS</span> (Auto resolved alias) <br>
<span class="code">CNAME</span> (Canonical name for an alias) <br>
<span class="code">MX</span> (Mail eXchange) <br>
<span class="code">NS</span> (Name Server) <br>
<span class="code">PTR</span> (Pointer) <br>
<span class="code">SOA</span> (Start Of Authority) <br>
<span class="code">SRV</span> (location of service) <br>
<span class="code">TXT</span> (Descriptive text)</p>
</blockquote>
<h3><a id="e"></a>Examples</h3>
<p>List the DNS A records for ss64.com:<span class="code"><br>
$ 
dig ss64.com</span><br>
or <br>
<span class="code">$ dig ss64.com A</span></p>
<p>List the DNS AAAA (ipv6) records for ss64.com:<br>
<span class="code">$ dig ss64.com AAAA </span></p>
<p>List the DNS A records for ss64.com using Google DNS  (8.8.8.8) instead of your local cache:<span class="code"><br>
$ 
dig ss64.com @8.8.8.8</span></p>
<p>List the  Signature record (SIG record)  for ss64.com:<span class="code"><br>
$ dig ss64.com SIG</span></p>
<p>List the Mail exchanger record (MX record)  for ss64.com:<span class="code"><br>
$ dig ss64.com MX <br>
</span></p>
<p>Test your DNS resolver's source port behavior:<span class="code"><br>
$ dig +short porttest.<a href="https://www.dns-oarc.net/oarc/services/porttest">dns-oarc.net</a> TXT</span></p>
<p class="quote"><i> &ldquo;Businessmen they drink my wine, Plowmen dig my earth, But none of them along the line, Know what any of it is worth&rdquo; - Bob Dylan</i></p>
<h3>Related macOS commands</h3>
<p class="space"><a href="dscacheutil.html">dscacheutil</a> - Query or flush the Directory Service/DNS cache.<br>
<a href="https://www.digwebinterface.com/">Dig web interface</a> - Online Dig.<br>
<a href="https://viewdns.info/">ViewDNS.info</a> - Online IP and DNS lookups.<br>
</p><!-- #BeginLibraryItem "/Library/foot_osx.lbi" --><!-- AuctionX Display platform tag START -->
<div id="27677x300x250x4627x_ADSLOT1" clickTrack="%%CLICK_URL_ESC%%"></div>
<script async src="https://served-by.pixfuture.com/www/delivery/headerbid.js" slotId="27677x300x250x4627x_ADSLOT1" refreshTime="5" refreshInterval="120"></script><!-- AuctionX Display platform tag END -->
<hr>
<div id=bl>&nbsp;</div>
<div id=br>Copyright &copy; 1999-2023 <a href="https://ss64.com/">SS64.com</a><br>
Some rights reserved</div><!-- #EndLibraryItem --></body>
</html>
